<script>
	import Player from "./Ple";
	import { basePath, items } from '../public/feed.json'

	// const tracks = [...Array(620).keys()].map((i) => ({
	// 	id: i,
	// 	selected: i === 5,
	// 	artist: "artist",
	// 	title: "title",
	// 	duration: 10,
	// 	albumId: undefined,
	// 	dates: {
	// 		added: undefined,
	// 		updated: undefined,
	// 	},
	// 	coverUrl: "coverUrl",
	// 	audioUrl: "audioUrl",
	// }));

	const tracks = items
	let volumeLevel = 'default'
</script>

<Player {tracks} {basePath} on:colorChanged={e => volumeLevel = e.detail}>
<div class="logo volume-{volumeLevel}">
	<svg width="211" height="199" viewBox="0 0 211 199" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
		<g clip-path="url(#clip0)">
			<path d="M1.95933 28.1017L15.2954 24.9C18.6241 24.1008 21.4472 23.7914 23.7647 23.9716C26.1243 24.0985 28.0205 25.0083 29.4531 26.701C30.8857 28.3937 31.602 31.0817 31.602 34.7651C31.602 37.8851 30.9489 40.4685 29.6427 42.5155C28.3365 44.5624 26.4825 46.1125 24.0807 47.1658C27.0303 46.8477 29.2845 47.5848 30.8436 49.3772C32.4026 51.1695 33.1821 53.9291 33.1821 57.6557C33.1821 68.0557 28.0205 74.4949 17.6971 76.9733L1.95933 80.7517V28.1017ZM15.485 45.9144C17.8867 45.3378 19.509 44.385 20.3517 43.056C21.2366 41.7169 21.679 39.8557 21.679 37.4724C21.679 35.3924 21.1312 33.9639 20.0357 33.1869C18.9401 32.3666 17.339 32.2093 15.2322 32.7151L13.2728 33.1855V46.4455L15.485 45.9144ZM15.6746 69.3339C18.0764 68.7573 19.7618 67.746 20.7309 66.3C21.7422 64.8005 22.2478 62.7292 22.2478 60.0858C22.2478 57.0958 21.7422 55.1156 20.7309 54.145C19.7618 53.1643 18.0553 52.9674 15.6114 53.5541L13.2728 54.1155V69.9105L15.6746 69.3339Z"/>
			<path d="M39.1164 19.181L62.1227 13.6577V21.5877L50.4299 24.3949V37.4599L59.3417 35.3204V43.3804L50.4299 45.5199V61.2499L62.2491 58.4124V66.2774L39.1164 71.831V19.181Z"/>
			<path d="M0 132.202L12.5144 91.4326L0.568837 94.3005V86.4355L23.6383 80.897V87.462L10.9343 128.732L23.7647 125.652V133.517L0 139.222V132.202Z"/>
			<path d="M44.0922 129.416C40.2579 130.337 37.2241 130.437 34.9908 129.716C32.7576 128.953 31.1775 127.447 30.2505 125.2C29.3657 122.899 28.9233 119.82 28.9233 115.963V79.6282L40.1104 76.9424V115.032C40.1104 117.156 40.3632 118.785 40.8688 119.92C41.4166 121.045 42.4911 121.416 44.0922 121.031C45.6934 120.647 46.7468 119.766 47.2524 118.388C47.7581 117.01 48.0109 115.259 48.0109 113.136V75.0457L59.2612 72.3447V108.68C59.2612 112.536 58.7977 115.833 57.8707 118.569C56.9437 121.261 55.3636 123.525 53.1304 125.362C50.9393 127.144 47.9266 128.496 44.0922 129.416Z"/>
			<path d="M66.4595 70.6165L77.7731 67.9004V112.685L89.529 109.863V117.728L66.4595 123.267V70.6165Z"/>
			<path d="M108.284 114.005C104.449 114.926 101.416 115.026 99.1825 114.305C96.9492 113.542 95.3691 112.036 94.4421 109.789C93.5573 107.488 93.1149 104.409 93.1149 100.552V64.2172L104.302 61.5314V99.6214C104.302 101.745 104.555 103.374 105.06 104.509C105.608 105.634 106.683 106.005 108.284 105.62C109.885 105.236 110.938 104.355 111.444 102.977C111.95 101.599 112.202 99.848 112.202 97.7246V59.6346L123.453 56.9337V93.2687C123.453 97.1253 122.989 100.422 122.062 103.157C121.135 105.85 119.555 108.114 117.322 109.951C115.131 111.733 112.118 113.085 108.284 114.005Z"/>
			<path d="M129.956 55.5024L140.195 53.0442L136.466 93.0695L132.927 93.9192L129.956 55.5024ZM129.766 98.1879L139.5 95.8511V105.731L129.766 108.068V98.1879Z"/>
			<path d="M2.65457 144.935L14.9162 141.991C19.2562 140.949 22.3532 141.419 24.2072 143.4C26.1033 145.372 27.0513 148.589 27.0513 153.053C27.0513 157.126 26.0611 160.679 24.0807 163.711C22.1425 166.733 19.1087 168.739 14.9794 169.731L7.45808 171.537V196.432L2.65457 197.585V144.935ZM13.5889 166.36C16.7491 165.601 18.9823 164.328 20.2885 162.541C21.6369 160.701 22.311 157.917 22.311 154.191C22.311 151.461 22.0582 149.441 21.5526 148.133C21.0469 146.781 20.1832 145.948 18.9612 145.635C17.7393 145.322 15.9696 145.443 13.6521 145.999L7.45808 147.487V167.832L13.5889 166.36Z"/>
			<path d="M45.3425 187.986C40.539 189.14 37.126 188.551 35.1034 186.219C33.123 183.878 32.1328 180.129 32.1328 174.973V153.133C32.1328 148.019 33.1441 143.877 35.1666 140.704C37.1892 137.489 40.5811 135.309 45.3425 134.166C50.0196 133.043 53.3694 133.604 55.3919 135.849C57.4145 138.093 58.4257 141.75 58.4257 146.82V168.725C58.4257 173.882 57.4355 178.106 55.4551 181.398C53.4747 184.647 50.1039 186.843 45.3425 187.986ZM45.3425 184.021C48.4606 183.273 50.6095 181.825 51.7893 179.679C52.9691 177.489 53.559 174.574 53.559 170.934V147.079C53.559 143.439 52.9691 140.85 51.7893 139.314C50.6516 137.767 48.5027 137.373 45.3425 138.131C42.1401 138.9 39.9491 140.336 38.7693 142.439C37.5895 144.499 36.9995 147.371 36.9995 151.054V174.909C36.9995 178.593 37.5895 181.224 38.7693 182.804C39.9491 184.384 42.1401 184.79 45.3425 184.021Z"/>
			<path d="M66.4141 129.627L77.538 126.957C82.5944 125.743 86.1759 126.226 88.2827 128.407C90.3895 130.545 91.4429 134.105 91.4429 139.089V160.019C91.4429 165.262 90.4106 169.54 88.3459 172.852C86.3234 176.111 82.8682 178.327 77.9805 179.501L66.4141 182.277V129.627ZM77.6644 175.871C80.2347 175.254 82.1519 174.252 83.416 172.866C84.7222 171.425 85.5649 169.75 85.9442 167.839C86.3234 165.884 86.513 163.412 86.513 160.422V140.792C86.513 137.932 86.2813 135.713 85.8178 134.134C85.3543 132.512 84.4694 131.403 83.1632 130.806C81.857 130.21 79.9608 130.21 77.4748 130.807L71.2176 132.309V177.419L77.6644 175.871Z"/>
			<path d="M111.256 172.162C106.453 173.315 103.082 172.673 101.144 170.235C99.2476 167.786 98.2996 163.984 98.2996 158.827V137.897C98.2996 132.611 99.2476 128.331 101.144 125.06C103.082 121.734 106.453 119.495 111.256 118.342C115.639 117.29 118.757 117.819 120.611 119.931C122.465 122.043 123.392 125.525 123.392 130.378V133.563L118.841 134.656V131.601C118.841 129.088 118.651 127.096 118.272 125.627C117.893 124.115 117.155 123.057 116.06 122.454C114.964 121.85 113.384 121.796 111.32 122.292C109.086 122.828 107.38 123.714 106.2 124.951C105.02 126.187 104.22 127.701 103.798 129.492C103.377 131.24 103.166 133.414 103.166 136.014V158.439C103.166 162.512 103.756 165.339 104.936 166.919C106.158 168.489 108.286 168.91 111.32 168.182C114.311 167.463 116.313 166.051 117.324 163.945C118.335 161.796 118.841 158.793 118.841 154.936V151.491L123.392 150.398V153.518C123.392 158.545 122.486 162.641 120.674 165.806C118.862 168.971 115.723 171.089 111.256 172.162Z"/>
			<path d="M138.941 112.215L143.998 111.001L154.869 161.041L150.128 162.179L147.6 148.681L135.402 151.61L132.81 166.337L128.133 167.46L138.941 112.215ZM146.968 145.258L141.533 118.158L136.097 147.868L146.968 145.258Z"/>
			<path d="M171.906 157.601C167.903 158.562 164.848 158.039 162.742 156.031C160.635 153.98 159.434 150.759 159.139 146.366L163.374 144.05C163.753 147.685 164.553 150.353 165.775 152.053C167.039 153.743 169.104 154.244 171.969 153.556C176.773 152.403 179.175 149.291 179.175 144.221C179.175 142.054 178.669 140.269 177.658 138.865C176.689 137.451 175.108 135.946 172.917 134.348L163.879 127.613C162.236 126.448 161.035 125.111 160.277 123.603C159.56 122.042 159.202 120.221 159.202 118.141C159.202 114.544 160.234 111.523 162.299 109.077C164.406 106.578 167.229 104.904 170.768 104.054C174.561 103.144 177.468 103.486 179.491 105.08C181.513 106.675 182.693 109.793 183.03 114.435L178.922 116.527C178.669 113.034 177.932 110.568 176.71 109.128C175.53 107.678 173.549 107.287 170.768 107.954C168.577 108.48 166.829 109.485 165.523 110.969C164.216 112.452 163.563 114.342 163.563 116.639C163.563 118.112 163.837 119.368 164.385 120.407C164.933 121.445 165.86 122.458 167.166 123.444L176.204 130.049C178.521 131.746 180.333 133.63 181.64 135.699C182.988 137.716 183.662 140.089 183.662 142.819C183.662 146.632 182.588 149.837 180.439 152.433C178.29 155.028 175.446 156.751 171.906 157.601Z"/>
			<path d="M196.427 102.249L186.757 104.571V100.736L210.648 95V98.835L201.23 101.096V149.911L196.427 151.064V102.249Z"/>
		</g>
		<defs>
			<clipPath id="clip0">
				<rect width="211" height="199"/>
			</clipPath>
		</defs>
	</svg>		
</div>
</Player>

<style>
	:global(html, body) {
		margin: 0;
		padding: 0;
		width: 100%;
		height: 100%;
		font-family: sans-serif;
		font-size: 13px;
		font-weight: 200;
	}

	:global(html) {
		scroll-behavior: smooth;
	}

	:global(body) {
		background: black;
	}

	.logo {
		position: fixed;
		left: calc(50% - var(--ple-s-max-width-half) + var(--ple-s-player-height));
		margin: 2vh 4vh;
		width: 20vh;
		z-index: 4;
		transition: color var(--ple-transition-time) var(--ple-transition-type);
		pointer-events: none;

		&.volume-min {
            color: var(--ple-c-min);
        }

        &.volume-low {
            color: var(--ple-c-low);
        }

        &.volume-default {
            color: var(--ple-c-default);
        }

        &.volume-high {
            color: var(--ple-c-high);
        }

        &.volume-max {
            color: var(--ple-c-max);
        }

		svg {
			width: 100%;
			height: 100%;
		}
	}
</style>
